{"changed":false,"filter":false,"title":"Controller.php","tooltip":"/microposts/app/Http/Controllers/Controller.php","value":"<?php\n\nnamespace App\\Http\\Controllers;\n\nuse Illuminate\\Foundation\\Bus\\DispatchesJobs;\nuse Illuminate\\Routing\\Controller as BaseController;\nuse Illuminate\\Foundation\\Validation\\ValidatesRequests;\nuse Illuminate\\Foundation\\Auth\\Access\\AuthorizesRequests;\n\n\n\nabstract class Controller extends BaseController\n{\n    use AuthorizesRequests, DispatchesJobs, ValidatesRequests;\n\n    public function counts($user) {\n        $count_microposts = $user->feed_microposts()->count();\n        $count_followings = $user->followings()->count();\n        $count_followers = $user->followers()->count();\n        $count_fab = $user->fab()->count();\n       \n        return [\n            'count_microposts' => $count_microposts,\n            'count_followings' => $count_followings,\n            'count_followers' => $count_followers,\n            'count_fab'=>$count_fab,\n        ];\n    }\n    \n     //public function index()\n    //{\n        //$data = [];\n        //if (\\Auth::check()) {\n            //$user = \\Auth::user();\n            //$microposts = $user->feed_microposts()->orderBy('created_at', 'desc')->paginate(10);\n\n            //$data = [\n                //'user' => $user,\n                //'microposts' => $microposts,\n            //];\n        //}\n        //return view('welcome', $data);\n    //}\n    \n}\n","undoManager":{"mark":-1,"position":-1,"stack":[]},"ace":{"folds":[],"scrolltop":0,"scrollleft":0,"selection":{"start":{"row":4,"column":45},"end":{"row":4,"column":45},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":0},"timestamp":1528877585890}